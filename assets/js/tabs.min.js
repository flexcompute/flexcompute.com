class AutoSwitchPanel{state="auto";tabs=[];tabElement=null;current=0;intervalID=0;speed=3e3;constructor(t,e){this.tabElement=t;let s=t.getElementsByClassName("headers")[0];this.tabs=s.getElementsByClassName("tab-title"),this.speed=1e3*e,this.resetState(),this.clickEventListener(),this.scrollEventListener()}isAuto=()=>"auto"===this.state;isManual=()=>"manual"===this.state;setStateAuto=()=>{this.state="auto"};setStateManual=()=>{this.state="manual"};resetState=()=>{this.stopAutoplay(),this.setStateAuto(),this.startAutoplay()};stopAutoplay=()=>{window.clearInterval(this.intervalID)};startAutoplay=()=>{if(this.isManual()){this.stopAutoplay();return}this.intervalID=setInterval(this.switchTab,this.speed)};switchTab=()=>{this.current=(this.current+1)%this.tabs.length;let t=this.tabs[this.current];t.click()};isElementInViewport=t=>{let e=t.getBoundingClientRect();return e.top>=-e.height&&e.top<=window.innerHeight};clickEventListener=()=>{this.tabElement&&this.tabElement.addEventListener("click",t=>{let e=t.target;if(t.isTrusted&&Array.from(this.tabs).includes(e)&&this.isAuto()){this.stopAutoplay();let s=e.getAttribute("data-tab-name");for(let a=0;a<this.tabs.length;a++){let i=this.tabs[a].getAttribute("data-tab-name");if(s===i){this.current=a;break}}this.setStateManual()}})};scrollEventListener=()=>{this.tabElement&&document.addEventListener("scroll",t=>{t.isTrusted&&!this.isElementInViewport(this.tabElement)&&this.isManual()&&this.resetState()})}}const customTabs=(()=>{let t=t=>{t.classList.contains("selected")||t.classList.add("selected")},e=t=>{t.classList.contains("selected")&&t.classList.remove("selected")},s=t=>{if(t)for(let s=0;s<t.childNodes.length;s++){let a=t.childNodes[s];a.nodeType===Node.ELEMENT_NODE&&e(a)}},a=e=>{let a=e.target,i=a.getAttribute("data-tab-name"),l=e.currentTarget;if(a&&l&&i){s(l),t(a);let n=l.nextElementSibling;s(n);let r=n.querySelector(`div[data-tab-name='${i}']`);t(r)}},i=()=>{let t=document.querySelectorAll('.tabs[data-autoplay-tabs="true"]');t&&0!==t.length&&t.forEach(t=>{let e=t.getAttribute("data-autoplay-time");new AutoSwitchPanel(t,Number(e))})};return{onTabChange:a,initialAutoplayTabs:i}})();customTabs.initialAutoplayTabs();
